# 类图

## 类的表示方式

* 可见性表示：
  * +：public
  * -：private
  * #：protected
* 属性：可见性 名称 : 类型 [= 缺省值]
* 方法：可见性 名称(参数列表) [:  返回类型]

![1763028376733](image/heima/1763028376733.png)

## 类之间的关系表示

### 关联关系

#### 单向关联

* 单箭头的实线
* 一方存在另一方类型的成员变量

![1763028512230](image/heima/1763028512230.png)

#### 双向关联

* 不带箭头的实现
* 双方各自持有对方类型的成员变量

![1763028554829](image/heima/1763028554829.png)

#### 自关联

* 指向自身的箭头

![1763028634311](image/heima/1763028634311.png)

### 聚合关系

* 带空心菱形的实现表示，菱形指向整体
* 成员对象可以脱离整体对象独立存在

![1763028651954](image/heima/1763028651954.png)

### 组合关系

* 带实心菱形的实现表示，菱形指向整体
* 成员对象不可以脱离整体对象独立存在
* 整体对象可以控制部分对象的生命周期

![1763028777773](image/heima/1763028777773.png)

### 依赖关系

* 带箭头的虚线表示
* 耦合度最弱，是临时性的关联

![1763028819387](image/heima/1763028819387.png)

### 继承关系

* 带空心三角箭头的实现表示，箭头指向父类
* 父类和子类关系，继承

![1763028962283](image/heima/1763028962283.png)

### 实现关系

* 带空心三角箭头的虚线表示，箭头从实现类指向接口
* 接口和实现类的关系

![1763029021698](image/heima/1763029021698.png)

# 软件设计原则

## 开闭原则

* 对扩展开放，对修改关闭。不能修改原有代码
* 使用接口和抽象类（灵活性好）

## 里氏替换原则

* 任何基类可以出现的地方，子类一定可以出现
* 子类可以扩展父类功能，但是不能改变父类原有功能，尽量不要重写父类方法

![1763033229316](image/heima/1763033229316.png)

改进

![1763033238877](image/heima/1763033238877.png)

## 依赖倒转原则

* ⾼层模块不应该依赖于低层模块，两者都应该依赖于抽象；抽象不应该依赖于细节，细节应该依赖于抽象。
* 我们要⾯向接⼝编程，⽽不是⾯向实现编程。代码的依赖关系应该通过抽象
  （如接⼝或抽象类）来建⽴，⽽不是具体的实现类。
* 反例：
* ![1763033259750](image/heima/1763033259750.png)
* 改进
* ![1763033269395](image/heima/1763033269395.png)

## 接口隔离原则

* 客户端不应该被强迫依赖它不需要的接⼝。⼀个类对另⼀个类的依赖应该建⽴在最⼩的接⼝之上。

## 迪米特原则

* ⼀个软件实体应当尽可能少地与其他实体发⽣相互作⽤，只和最直接的部分交互

## 合成复用原则

* 尽量使⽤对象组合（合成/聚合）的⽅式，⽽不是继承来达到代码复⽤的⽬的。
