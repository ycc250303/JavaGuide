## 用户/权限

`su [-] [用户名]`

切换用户；`-` 表示切换后是否加载环境变量。普通用户切换到其他用户需要输入密码，root 切换无需密码

`exit`

切换用户后返回上一个用户

`sudo 其他命令`

临时赋予 root 授权（需为普通用户配置 sudo 权限）

`groupadd 用户组名`

创建用户组

`groupdel 用户组名`

删除用户组

`useradd [-g -d] 用户名`

创建用户；`-g` 指定用户组（需已存在，若有同名组必须指定），`-d` 指定用户 home 路径（默认 `/home/用户名`）

`userdel [-r] 用户名`

删除用户；`-r` 删除用户的 HOME 目录（不使用则保留）

`id [用户名]`

查看用户所属组（不提供用户名则查看自身）

`usermod -aG 用户组 用户名`

将指定用户加入指定用户组

`getent passwd`

查看系统用户信息：`用户名:密码(x):用户ID:组ID:描述信息:HOME目录:登录Shell`

---

### 权限细节

三类主体：所属用户、所属用户组、其他用户

`r` 读权限（文件：可查看内容）

`w` 写权限（文件：可修改内容）

`x` 执行权限（文件：可将文件作为程序执行）

权限位示例：

| 位    | r           | w           | x           |
| ----- | ----------- | ----------- | ----------- |
| 有/无 | `r`/`-` | `w`/`-` | `x`/`-` |

`chmod [-R] 权限 文件或文件夹`

修改文件/文件夹的权限信息；`-R` 对文件夹的全部内容应用同样操作

示例：`chmod u=rwx,g=rx,o=x hello.txt`

`u,g,o` 分别表示用户、用户组、其他用户

数字到权限的映射：

| 数字 | 0   | 1   | 2   | 3   | 4   | 5   | 6   | 7   |
| ---- | --- | --- | --- | --- | --- | --- | --- | --- |
| 权限 | --- | --x | -w- | -wx | r-- | r-x | rw- | rwx |

`chown [-R] [用户][:][用户组] 文件或文件夹`

修改文件/文件夹的所属用户和用户组（仅 root 可用）；`-R` 同 `chmod`

- `用户` 修改所属用户
- `用户组` 修改所属用户组
- `:` 用于分隔用户和用户组
